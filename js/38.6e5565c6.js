"use strict";(self["webpackChunkjust_sell"]=self["webpackChunkjust_sell"]||[]).push([[38],{2619:function(e,t,l){l.d(t,{Z:function(){return u}});var a=l(3396),n=l(7139);const i=["type","placeholder","name","required","value","disabled"],o=(0,a.aZ)({emits:["update:modelValue","blur"],methods:{input(e){const t=e.target?.value;this.$emit("update:modelValue",t)}}});var r=(0,a.aZ)({...o,__name:"InputField",props:{name:null,type:null,placeholder:null,required:{type:Boolean},size:{default:"lg"},variant:{default:"default"},modelValue:null,disabled:null},setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)("input",{type:e.type,placeholder:e.placeholder,name:e.name,required:e.required,class:(0,n.C_)([`form-field__input--${e.size} form-field__input--${e.variant}`,"form-field__input"]),value:e.modelValue,disabled:e.disabled,onInput:l[0]||(l[0]=e=>t.input(e)),onBlur:l[1]||(l[1]=e=>t.$emit("blur"))},null,42,i))}});const d=r;var u=d},6686:function(e,t,l){l.d(t,{Z:function(){return u}});var a=l(3396),n=l(7139);const i=["placeholder","name","required","value","disabled","maxlength"],o=(0,a.aZ)({emits:["update:modelValue","update:selection"],inject:["rules"],data(){return{canEdit:!1}},mounted(){this.canEdit=Boolean(null!==this.rules),document.addEventListener("selectionchange",this.onSelectionChange)},methods:{input(e){const t=e.target?.value;this.$emit("update:modelValue",t)},onTabPressed(e){const t=this.$refs.textarea;let l=e.target.value;if("Tab"==e.key){e.preventDefault();const a=t.selectionStart,n=t.selectionEnd;e.target.value=l.substring(0,a)+"\t"+l.substring(n),t.selectionStart=t.selectionEnd=a+1,this.$emit("update:modelValue",l)}},onSelectionChange(){const e=document.activeElement,t=this.$refs.textarea;if(e&&e===t){const t={start:e.selectionStart,end:e.selectionEnd};this.$emit("update:selection",t)}}}});var r=(0,a.aZ)({...o,__name:"TextareaField",props:{name:null,placeholder:null,required:{type:Boolean},size:{default:"lg"},variant:{default:"default"},modelValue:null,disabled:null,maxLength:null},setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)("textarea",{ref:"textarea",placeholder:e.placeholder,name:e.name,required:e.required,class:(0,n.C_)(["form-field__input form-field__textarea",`form-field__input--${e.size} form-field__input--${e.variant}`]),value:e.modelValue,disabled:void 0!==e.disabled?e.disabled:!t.canEdit,onInput:l[0]||(l[0]=e=>t.input(e)),onKeydown:l[1]||(l[1]=(...e)=>t.onTabPressed&&t.onTabPressed(...e)),maxlength:e.maxLength},null,42,i))}});const d=r;var u=d},2195:function(e,t,l){l.d(t,{Z:function(){return U}});var a=l(3396),n=l(9242),i=l(7139),o=l.p+"img/chevron-top.161f73c2.svg",r=l.p+"img/chevron-bottom.4aa9eec8.svg";const d={class:"timepicker",ref:"timepicker"},u=(0,a._)("h4",{class:"timepicker-dropdown__title"},"Оберіть час",-1),s={class:"timepicker-dropdown__row"},m={class:"timepicker-dropdown__values"},p=(0,a._)("img",{src:o,alt:"Top",class:"timepicker-dropdown__icon"},null,-1),c=[p],_={class:"timepicker-dropdown__value"},f=(0,a._)("img",{src:r,alt:"Bottom",class:"timepicker-dropdown__icon"},null,-1),h=[f],v=(0,a._)("div",{class:"timepicker-dropdown__delimetr"},":",-1),b={class:"timepicker-dropdown__values"},V={class:"timepicker-dropdown__value"};function g(e,t,l,p,f,g){const w=(0,a.up)("form-field"),k=(0,a.Q2)("click-outside");return(0,a.wg)(),(0,a.j4)(w,{label:e.label},{default:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",{class:"timepicker-field",onClick:t[1]||(t[1]=(...t)=>e.toggle&&e.toggle(...t))},[(0,a.wy)((0,a._)("input",{type:"text",name:"time",class:"timepicker-field__input","onUpdate:modelValue":t[0]||(t[0]=t=>e.time=t),readonly:""},null,512),[[n.nr,e.time]])]),(0,a._)("div",{class:(0,i.C_)(["timepicker-dropdown",{opened:e.opened}])},[u,(0,a._)("div",s,[(0,a._)("div",m,[(0,a._)("div",{class:"timepicker-dropdown__icon",onClick:t[2]||(t[2]=t=>e.increment("hour"))},c),(0,a._)("div",_,(0,i.zw)(e.formattedHour),1),(0,a._)("div",{class:"timepicker-dropdown__icon",onClick:t[3]||(t[3]=t=>e.decrement("hour"))},h)]),v,(0,a._)("div",b,[(0,a._)("img",{src:o,alt:"Top",class:"timepicker-dropdown__icon",onClick:t[4]||(t[4]=t=>e.increment("minuts"))}),(0,a._)("div",V,(0,i.zw)(e.formattedMinuts),1),(0,a._)("img",{src:r,alt:"Bottom",class:"timepicker-dropdown__icon",onClick:t[5]||(t[5]=t=>e.decrement("minuts"))})])])],2)])),[[k,e.close]])])),_:1},8,["label"])}var w=l(4560);const k=23,Z=58,y=e=>e<9?`0${e+1}`:`${e+1}`;var T=(0,a.aZ)({emits:["update:modelValue"],props:["modelValue","label"],components:{FormField:w.Z},data(){return{opened:!1,hour:0,minuts:0,time:"00:00"}},computed:{formattedHour(){return y(this.hour)},formattedMinuts(){return y(this.minuts)}},watch:{hour(){this.time=this.formattedHour+":"+this.formattedMinuts,this.$emit("update:modelValue",this.time)},minuts(){this.time=this.formattedHour+":"+this.formattedMinuts,this.$emit("update:modelValue",this.time)}},methods:{increment(e){const t=this[e],l="hour"===e&&t<k,a="minuts"===e&&t<Z;(l||a)&&(this[e]=t+1)},decrement(e){const t=this[e];t>0&&(this[e]=t-1)},toggle(){this.opened=!this.opened},close(){this.opened=!1}}}),$=l(89);const x=(0,$.Z)(T,[["render",g]]);var U=x},328:function(e,t,l){l.d(t,{Z:function(){return m}});var a=l(3396);const n={class:"timepicker-range-field"},i=(0,a._)("div",{class:"timepicker-range__delimetr"},"-",-1);function o(e,t,l,o,r,d){const u=(0,a.up)("timepicker-field");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(u,{label:l.labelFrom},null,8,["label"]),i,(0,a.Wm)(u,{label:l.labelTo},null,8,["label"])])}var r=l(2195),d={props:["labelFrom","labelTo"],components:{TimepickerField:r.Z}},u=l(89);const s=(0,u.Z)(d,[["render",o]]);var m=s},6872:function(e,t,l){l.r(t),l.d(t,{default:function(){return U}});var a=l(3396);function n(e,t,l,n,i,o){const r=(0,a.up)("app-loading"),d=(0,a.up)("driver-form"),u=(0,a.up)("app-layout");return(0,a.wg)(),(0,a.j4)(u,null,{appTitle:(0,a.w5)((()=>[(0,a.Uk)("Додати водія")])),appLoading:(0,a.w5)((()=>[(0,a.Wm)(r,{loading:!1})])),appContent:(0,a.w5)((()=>[(0,a.Wm)(d,{onSubmit:e.createDriver},null,8,["onSubmit"])])),_:1})}var i=l(5627),o=l(7863);const r={class:"terminal-form__container"},d={class:"form-actions form-actions--fixed"};function u(e,t,l,n,i,o){const u=(0,a.up)("input-field"),s=(0,a.up)("form-field"),m=(0,a.up)("route-select-field"),p=(0,a.up)("transport-select-field"),c=(0,a.up)("timepicker-range"),_=(0,a.up)("textarea-field"),f=(0,a.up)("v-button"),h=(0,a.up)("v-form");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(h,{action:"#",class:"terminal-form","initial-values":e.initialValues,onSubmit:e.onSubmit},{fields:(0,a.w5)((({values:t})=>[(0,a.Wm)(s,{label:"ФІО"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,name:"name",type:"text",placeholder:"Введіть ФІО водія"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(s,{label:"Табельний номер"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:t.tabulation_number,"onUpdate:modelValue":e=>t.tabulation_number=e,name:"name",type:"text",placeholder:"Введіть табельний номер"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(m,{modelValue:t.route,"onUpdate:modelValue":e=>t.route=e},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(p,{modelValue:t.transport_number,"onUpdate:modelValue":e=>t.transport_number=e},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(c,{modelValue:t.session_open_time,"onUpdate:modelValue":e=>t.session_open_time=e,labelFrom:"Час початку зміни",labelTo:"Час завершення зміни"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(s,{label:"Телефон"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:t.phone,"onUpdate:modelValue":e=>t.phone=e,name:"name",type:"text",placeholder:"Введіть телефон"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(s,{label:"Додадкова інформація"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{modelValue:t.add_data,"onUpdate:modelValue":e=>t.add_data=e,name:"name",type:"text",placeholder:"Введіть державний номер ТС"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a._)("div",d,[(0,a.Wm)(f,{type:"submit",loading:e.loading},{text:(0,a.w5)((()=>[(0,a.Uk)("Додати водія")])),_:1},8,["loading"])])])),_:1},8,["initial-values","onSubmit"])])}var s=l(4677),m=l(4560),p=l(2619),c=l(4610),_=l(4856),f=l(328),h=l(6686),v=l(585),b=l(2028);const V={id:"",name:"",route:"",phone:"",transport_number:"",tabulation_number:"",open_session_time:"",add_data:""};var g=(0,a.aZ)({props:["defaultValues"],emits:["submit"],components:{FormField:m.Z,InputField:p.Z,VButton:c.Z,VForm:_.Z,RouteSelectField:b.pV,TimepickerRange:f.Z,TransportSelectField:v.PO,TextareaField:h.Z},setup(){const e=(0,s.pm)();return{toast:e}},data(){return{initialValues:this.defaultValues||V}},watch:{defaultValues(e){this.initialValues={...this.initialValues,...e}}},computed:{loading(){return!1}},methods:{onSubmit(e){this.$emit("submit",e)}}}),w=l(89);const k=(0,w.Z)(g,[["render",u]]);var Z=k,y=l(1781),T=l(7941),$=(0,a.aZ)({inject:["rules"],components:{AppLayout:i.Z,AppLoading:o.Z,DriverForm:Z},data(){return{canEdit:!1}},computed:{loading(){return this.$store.state.transport.loading}},async mounted(){this.$store.dispatch(y.c.GET_DRIVERS),this.$store.dispatch(T.K.GET_TRANSPORTS)},setup(){const e=(0,s.pm)();return{toast:e}},methods:{createDriver(e){this.$store.dispatch(y.c.CREATE_DRIVER,{payload:e,toast:this.toast})}}});const x=(0,w.Z)($,[["render",n]]);var U=x}}]);
//# sourceMappingURL=38.6e5565c6.js.map