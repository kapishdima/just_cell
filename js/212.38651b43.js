(self["webpackChunkjust_sell"]=self["webpackChunkjust_sell"]||[]).push([[212],{6459:function(e,l,t){t(7658);var a="Expected a function",o="__lodash_hash_undefined__",n=1/0,r="[object Function]",i="[object GeneratorFunction]",s="[object Symbol]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,c=/^\./,m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/[\\^$.*+?()[\]{}|]/g,f=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,_="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g,b="object"==typeof self&&self&&self.Object===Object&&self,v=_||b||Function("return this")();function y(e,l){return null==e?void 0:e[l]}function V(e){var l=!1;if(null!=e&&"function"!=typeof e.toString)try{l=!!(e+"")}catch(t){}return l}var g=Array.prototype,w=Function.prototype,k=Object.prototype,W=v["__core-js_shared__"],$=function(){var e=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Z=w.toString,U=k.hasOwnProperty,x=k.toString,C=RegExp("^"+Z.call(U).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=v.Symbol,F=g.splice,A=re(v,"Map"),T=re(Object,"create"),j=S?S.prototype:void 0,P=j?j.toString:void 0;function q(e){var l=-1,t=e?e.length:0;this.clear();while(++l<t){var a=e[l];this.set(a[0],a[1])}}function E(){this.__data__=T?T(null):{}}function B(e){return this.has(e)&&delete this.__data__[e]}function I(e){var l=this.__data__;if(T){var t=l[e];return t===o?void 0:t}return U.call(l,e)?l[e]:void 0}function D(e){var l=this.__data__;return T?void 0!==l[e]:U.call(l,e)}function L(e,l){var t=this.__data__;return t[e]=T&&void 0===l?o:l,this}function O(e){var l=-1,t=e?e.length:0;this.clear();while(++l<t){var a=e[l];this.set(a[0],a[1])}}function R(){this.__data__=[]}function G(e){var l=this.__data__,t=ee(l,e);if(t<0)return!1;var a=l.length-1;return t==a?l.pop():F.call(l,t,1),!0}function H(e){var l=this.__data__,t=ee(l,e);return t<0?void 0:l[t][1]}function K(e){return ee(this.__data__,e)>-1}function M(e,l){var t=this.__data__,a=ee(t,e);return a<0?t.push([e,l]):t[a][1]=l,this}function Y(e){var l=-1,t=e?e.length:0;this.clear();while(++l<t){var a=e[l];this.set(a[0],a[1])}}function z(){this.__data__={hash:new q,map:new(A||O),string:new q}}function J(e){return ne(this,e)["delete"](e)}function N(e){return ne(this,e).get(e)}function Q(e){return ne(this,e).has(e)}function X(e,l){return ne(this,e).set(e,l),this}function ee(e,l){var t=e.length;while(t--)if(fe(e[t][0],l))return t;return-1}function le(e,l){l=ie(l,e)?[l]:oe(l);var t=0,a=l.length;while(null!=e&&t<a)e=e[ce(l[t++])];return t&&t==a?e:void 0}function te(e){if(!be(e)||de(e))return!1;var l=_e(e)||V(e)?C:h;return l.test(me(e))}function ae(e){if("string"==typeof e)return e;if(ye(e))return P?P.call(e):"";var l=e+"";return"0"==l&&1/e==-n?"-0":l}function oe(e){return he(e)?e:ue(e)}function ne(e,l){var t=e.__data__;return se(l)?t["string"==typeof l?"string":"hash"]:t.map}function re(e,l){var t=y(e,l);return te(t)?t:void 0}function ie(e,l){if(he(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!ye(e))||(u.test(e)||!d.test(e)||null!=l&&e in Object(l))}function se(e){var l=typeof e;return"string"==l||"number"==l||"symbol"==l||"boolean"==l?"__proto__"!==e:null===e}function de(e){return!!$&&$ in e}q.prototype.clear=E,q.prototype["delete"]=B,q.prototype.get=I,q.prototype.has=D,q.prototype.set=L,O.prototype.clear=R,O.prototype["delete"]=G,O.prototype.get=H,O.prototype.has=K,O.prototype.set=M,Y.prototype.clear=z,Y.prototype["delete"]=J,Y.prototype.get=N,Y.prototype.has=Q,Y.prototype.set=X;var ue=pe((function(e){e=Ve(e);var l=[];return c.test(e)&&l.push(""),e.replace(m,(function(e,t,a,o){l.push(a?o.replace(f,"$1"):t||e)})),l}));function ce(e){if("string"==typeof e||ye(e))return e;var l=e+"";return"0"==l&&1/e==-n?"-0":l}function me(e){if(null!=e){try{return Z.call(e)}catch(l){}try{return e+""}catch(l){}}return""}function pe(e,l){if("function"!=typeof e||l&&"function"!=typeof l)throw new TypeError(a);var t=function(){var a=arguments,o=l?l.apply(this,a):a[0],n=t.cache;if(n.has(o))return n.get(o);var r=e.apply(this,a);return t.cache=n.set(o,r),r};return t.cache=new(pe.Cache||Y),t}function fe(e,l){return e===l||e!==e&&l!==l}pe.Cache=Y;var he=Array.isArray;function _e(e){var l=be(e)?x.call(e):"";return l==r||l==i}function be(e){var l=typeof e;return!!e&&("object"==l||"function"==l)}function ve(e){return!!e&&"object"==typeof e}function ye(e){return"symbol"==typeof e||ve(e)&&x.call(e)==s}function Ve(e){return null==e?"":ae(e)}function ge(e,l,t){var a=null==e?void 0:le(e,l);return void 0===a?t:a}e.exports=ge},1255:function(e,l,t){"use strict";t.d(l,{Z:function(){return $}});var a=t(3396);const o=["type","placeholder","name","required","value"],n={class:"form-field__extra-container"};function r(e,l,t,r,i,s){const d=(0,a.up)("password-visibility-button"),u=(0,a.up)("password-generate-button");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("input",{type:e.type,placeholder:e.placeholder,name:e.name,required:e.required,value:e.password,class:"form-field__input",onInput:l[0]||(l[0]=l=>e.input(l)),onBlur:l[1]||(l[1]=l=>e.$emit("blur"))},null,40,o),(0,a._)("div",n,[(0,a.Wm)(d,{onChange:e.changeType},null,8,["onChange"]),e.hasGenerateButton?((0,a.wg)(),(0,a.j4)(u,{key:0,onGeneratedPassword:e.onGeneratePassword},null,8,["onGeneratedPassword"])):(0,a.kq)("",!0)])],64)}var i=t.p+"img/eye_hidden.08669155.svg",s=t.p+"img/eye_visible.cfc84e83.svg";const d={key:0,src:i,alt:"Show\n    password"},u={key:1,src:s,alt:"Show\n    password"};function c(e,l,t,o,n,r){return(0,a.wg)(),(0,a.iD)("button",{type:"button",class:"form-field__extra password-visibility-button",tabindex:"-1",onClick:l[0]||(l[0]=(...l)=>e.changeVisibility&&e.changeVisibility(...l))},[e.visibility?((0,a.wg)(),(0,a.iD)("img",u)):((0,a.wg)(),(0,a.iD)("img",d))])}var m=(0,a.aZ)({emits:["change"],data(){return{visibility:!1}},watch:{visibility(e){const l=e?"text":"password";this.$emit("change",l)}},methods:{changeVisibility(){this.visibility=!this.visibility}}}),p=t(89);const f=(0,p.Z)(m,[["render",c]]);var h=f,_=t.p+"img/key_icon.9e7583e7.svg";const b=(0,a._)("img",{src:_,alt:"Generate"},null,-1),v=[b];function y(e,l,t,o,n,r){return(0,a.wg)(),(0,a.iD)("button",{type:"button",class:"form-field__extra password-visibility-button",tabindex:"-1",onClick:l[0]||(l[0]=(...l)=>e.generatePassword&&e.generatePassword(...l))},v)}var V=(0,a.aZ)({emits:["generatedPassword"],data(){return{generatedPassword:""}},watch:{generatedPassword(e){this.$emit("generatedPassword",e)}},methods:{generatePassword(){const e="0123456789abcdefghijklmnopqrstuvwxyz!@#$%^&*()ABCDEFGHIJKLMNOPQRSTUVWXYZ",l=15;let t="";for(var a=0;a<l;a++){const l=Math.floor(Math.random()*e.length);t+=e.substring(l,l+1)}this.generatedPassword=t}}});const g=(0,p.Z)(V,[["render",y]]);var w=g,k=(0,a.aZ)({props:{name:{type:String,required:!0},placeholder:{type:String,required:!1},required:{type:Boolean,required:!1},hasGenerateButton:{type:Boolean,default:!1},modelValue:String},emits:["update:modelValue","blur"],components:{PasswordVisibilityButton:h,PasswordGenerateButton:w},data(){return{type:"password",password:this.modelValue||""}},watch:{modelValue(e){this.password=e}},methods:{changeType(e){this.type=e},input(e){const l=e.target?.value;this.$emit("update:modelValue",l)},onGeneratePassword(e){this.$emit("update:modelValue",e)}}});const W=(0,p.Z)(k,[["render",r]]);var $=W},8607:function(e,l,t){"use strict";t.d(l,{Z:function(){return g}});var a=t(3396),o=t(7139),n=t(9242),r=t(5572),i=t(3886),s=t(2729);const d={class:"select-field__item-value"},u={class:"select-field__item-content"},c={class:"select-field__item-hint"},m=(0,a.aZ)({emits:["select"],components:{CheckboxField:s.Z},data(){return{selected:this.checked}},watch:{checked:{handler(e){this.selected=e},immediate:!0}}});var p=(0,a.aZ)({...m,__name:"OptionItemWithCheckbox",props:{option:null,checked:{type:Boolean}},setup(e){return(l,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"select-field__item",onClick:t[1]||(t[1]=t=>l.$emit("select",e.option))},[(0,a._)("div",d,[(0,a.Wm)(s.Z,{name:"",modelValue:l.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>l.selected=e),label:e.option.label,direction:"left",size:"sm"},null,8,["modelValue","label"]),(0,a._)("div",u,[(0,a._)("span",c,(0,o.zw)(e.option.hint),1)])])]))}});const f=p;var h=f;const _=["name"],b={class:"select-field__dropdown"},v=(0,a.aZ)({emits:["update:modelValue"],components:{SearchInput:r.Z,SelectedInput:i.Z,OptionItem:h},data(){return{opened:!1,value:this.modelValue||"",selectedLabel:"",selected:[]}},mounted(){document.addEventListener("keydown",this.onEscapePressed)},beforeUnmount(){document.removeEventListener("keydown",this.onEscapePressed)},watch:{selected(){this.value=this.selected?.label||""},options(){this.selectedLabel=this.setSelectedLabel(this.modelValue)},modelValue:{handler(e){this.selectedLabel=this.setSelectedLabel(e)},immediate:!0}},methods:{open(){this.opened=!0},toggle(){this.opened=!this.opened},close(){this.opened=!1},select(e){this.selected.includes(e.value)?this.selected=this.selected.filter((l=>l!==e.value)):this.selected=[...this.selected,e.value],this.selectedLabel=this.setSelectedLabel(this.selected),this.$emit("update:modelValue",this.selected)},clear(){this.value=""},onEscapePressed(e){"Escape"===e.key&&this.close()},setSelectedLabel(e=[]){const l=this.options.filter((({value:l})=>e.includes(l))).map((e=>e.label));return l.join(",")}}});var y=(0,a.aZ)({...v,__name:"SelectFieldMultiple",props:{name:null,options:null,inputPlaceholder:null,searchPlaceholder:null,hasSearch:{type:Boolean,default:!0},modelValue:null,disabled:null,size:{default:"md"}},setup(e){return(l,t)=>{const s=(0,a.Q2)("click-outside");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["select-field",{"select-field--active":l.opened,"select-field--disabled":e.disabled}]),ref:"selectField"},[(0,a._)("input",{type:"text",name:e.name,class:"select-input-hidden"},null,8,_),(0,a._)("div",{class:(0,o.C_)(["select-field__container form-field__input",`form-field__input--${e.size}`]),onClick:t[0]||(t[0]=t=>e.hasSearch?l.open():l.toggle())},[(0,a.wy)((0,a.Wm)(i.Z,{label:l.selectedLabel,placeholder:e.inputPlaceholder},null,8,["label","placeholder"]),[[n.F8,!e.hasSearch||!l.opened]]),(0,a.wy)((0,a.Wm)(r.Z,{placeholder:e.searchPlaceholder,onClear:l.clear,name:e.name},null,8,["placeholder","onClear","name"]),[[n.F8,l.opened&&e.hasSearch]])],2),(0,a._)("div",b,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.options,(e=>((0,a.wg)(),(0,a.j4)(h,{key:e.value,option:e,checked:l.selected?.includes(e.value),onSelect:l.select},null,8,["option","checked","onSelect"])))),128))])],2)),[[s,l.close]])}}});const V=y;var g=V},1166:function(e,l,t){"use strict";t.d(l,{Z:function(){return c}});var a=t(3396),o=t(9242);const n={class:"tab-pane"};function r(e,l,t,r,i,s){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",n,[(0,a.WI)(e.$slots,"default")],512)),[[o.F8,r.isActive]])}var i=t(4870),s={props:["title"],setup(e){const l=(0,i.iH)(!1),t=(0,a.f3)("TabsProvider");return(0,a.YP)((()=>t.selectedIndex),(()=>{l.value=e.title===t.selectedIndex})),(0,a.wF)((()=>{l.value=e.title===t.selectedIndex})),{isActive:l}}},d=t(89);const u=(0,d.Z)(s,[["render",r]]);var c=u},2960:function(e,l,t){"use strict";t.d(l,{Z:function(){return f}});var a=t(3396),o=t(7139);const n={class:"tabs"},r={class:"tabs-pills"},i=["onClick"],s={class:"tabs-panes"};function d(e,l,t,d,u,c){return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.tabs,(l=>((0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["tab-pill",{active:e.selectedIndex===l.props.title}]),key:l.props.title,onClick:t=>e.selectedIndex=l.props.title},(0,o.zw)(l.props.title),11,i)))),128))]),(0,a._)("div",s,[(0,a.WI)(e.$slots,"default")])])}var u=t(4870),c=(0,a.aZ)({setup(e,{slots:l}){const t=(0,u.qj)({selectedIndex:null,tabs:[],count:0});(0,a.JJ)("TabsProvider",t);const o=e=>{t.selectedIndex=e},n=()=>{l.default&&(t.tabs=l.default())};return(0,a.wF)((()=>n())),(0,a.Xn)((()=>n())),(0,a.bv)((()=>{o(t.tabs.at(0).props.title)})),{...(0,u.BK)(t),selectTab:o}}}),m=t(89);const p=(0,m.Z)(c,[["render",d]]);var f=p},7438:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return me}});var a=t(3396);function o(e,l,t,o,n,r){const i=(0,a.up)("app-loading"),s=(0,a.up)("terminal-form"),d=(0,a.up)("app-layout");return(0,a.wg)(),(0,a.j4)(d,null,{appTitle:(0,a.w5)((()=>[(0,a.Uk)(" Загальні налаштування терміналу ")])),appContent:(0,a.w5)((()=>[(0,a.Wm)(i,{loading:e.loading},null,8,["loading"]),e.loading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(s,{key:0,"actions-fixed":!0}))])),_:1})}var n=t(5627),r=t(7863),i=t(7139);const s={class:"terminal-form__container"},d={class:"terminal-form ecomm-form__container"},u={key:0,class:"fields-row"},c={class:"terminal-form"},m={class:"terminal-form"};function p(e,l,t,o,n,r){const p=(0,a.up)("input-field"),f=(0,a.up)("form-field"),h=(0,a.up)("payload-template-field"),_=(0,a.up)("password-field"),b=(0,a.up)("sign-stract-field"),v=(0,a.up)("commision-type"),y=(0,a.up)("connection-type"),V=(0,a.up)("acquirer-type"),g=(0,a.up)("balancer-field"),w=(0,a.up)("v-tab"),k=(0,a.up)("addition-connect-form"),W=(0,a.up)("v-tabs"),$=(0,a.up)("v-button"),Z=(0,a.up)("v-form");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(Z,{"initial-values":e.initialValues,onSubmit:e.send},{fields:(0,a.w5)((({values:l,errors:t})=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{title:"Ecomm"},{default:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a.Wm)(f,{label:"Назва",error:t.name},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"name",modelValue:l.name,"onUpdate:modelValue":e=>l.name=e,placeholder:"Введіть назву термінала"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["error"]),(0,a.Wm)(f,{label:"Сайт",error:t["ecomm-site"]},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"ecomm-site",modelValue:l["ecomm-site"],"onUpdate:modelValue":e=>l["ecomm-site"]=e,placeholder:"Введіть адресу сайта"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["error"]),(0,a.Wm)(f,{label:"Endpoint для повідомлень про результати транзакцій",error:t["ecomm-callback"]},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"ecomm-callback",modelValue:l["ecomm-callback"],"onUpdate:modelValue":e=>l["ecomm-callback"]=e,placeholder:"Наприклад, ?param_name=param_value"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["error"]),(0,a.Wm)(f,{label:"GET параметри для передачі",error:t["ecomm-callback_get"]},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"ecomm-callback_get",modelValue:l["ecomm-callback_get"],"onUpdate:modelValue":e=>l["ecomm-callback_get"]=e,placeholder:"Наприклад, ?param_name=param_value"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["error"]),(0,a.Wm)(h,{modelValue:l["ecomm-callback_body"],"onUpdate:modelValue":e=>l["ecomm-callback_body"]=e,error:t["ecomm-callback_body"]},null,8,["modelValue","onUpdate:modelValue","error"]),(0,a.Wm)(f,{label:"Redirect url",error:t["ecomm-redirect"]},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"ecomm-redirect",modelValue:l["ecomm-redirect"],"onUpdate:modelValue":e=>l["ecomm-redirect"]=e,placeholder:"Введіть Redirect url"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["error"]),(0,a.Wm)(f,{label:"Secret Key (підпис HmacSHA256)",error:t["ecomm-secret_key"]},{hint:(0,a.w5)((()=>[(0,a.Uk)(" Фраза-ключ для підпису запиту через API та перевірки повідомлень від системи ")])),default:(0,a.w5)((()=>[(0,a.Wm)(_,{name:"ecomm-secret_key",modelValue:l["ecomm-secret_key"],"onUpdate:modelValue":e=>l["ecomm-secret_key"]=e,hasGenerateButton:!1,placeholder:"Введіть або згенеруйте"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["error"]),(0,a.Wm)(b,{modelValue:l["ecomm-sign_data"],"onUpdate:modelValue":e=>l["ecomm-sign_data"]=e},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(v,{modelValue:l["ecomm-comis_type"],"onUpdate:modelValue":e=>l["ecomm-comis_type"]=e},null,8,["modelValue","onUpdate:modelValue"]),"3"===l["ecomm-comis_type"]?((0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)(f,{label:"Комісія клієнта"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{type:"number",name:"client_comis",placeholder:"Введіть комісію клієнта",modelValue:l["ecomm-client_comis"],"onUpdate:modelValue":e=>l["ecomm-client_comis"]=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(f,{label:"Комісія мерчента"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{type:"number",name:"merch_comis",placeholder:"Введіть комісію мерчента",modelValue:l["ecomm-merch_comis"],"onUpdate:modelValue":e=>l["ecomm-merch_comis"]=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])):(0,a.kq)("",!0),(0,a.Wm)(y,{modelValue:l["ecomm-request_type"],"onUpdate:modelValue":e=>l["ecomm-request_type"]=e},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(f,{label:"Час очікування на введення картки клієнтом",error:t["ecomm-time_out"]},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"ecomm-time_out",modelValue:l["ecomm-time_out"],"onUpdate:modelValue":e=>l["ecomm-time_out"]=e,placeholder:"Наприклад, 30"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["error"]),(0,a.Wm)(V,{modelValue:l["ecomm-bank_list"],"onUpdate:modelValue":e=>l["ecomm-bank_list"]=e},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(g,{"model-value":l["ecomm-balancer"],"selected-banks":l["ecomm-bank_list"]},null,8,["model-value","selected-banks"])])])),_:2},1024),(0,a.Wm)(w,{title:"Account to Card"},{default:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a.Wm)(k,{"form-values":l,"form-errors":t,prefix:"A2C"},null,8,["form-values","form-errors"])])])),_:2},1024),(0,a.Wm)(w,{title:"Card to Account"},{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a.Wm)(k,{"form-values":l,"form-errors":t,prefix:"C2A"},null,8,["form-values","form-errors"])])])),_:2},1024)])),_:2},1024),(0,a._)("div",{class:(0,i.C_)(["form-actions",{"form-actions--fixed":e.actionsFixed}])},[(0,a.Wm)($,{type:"submit"},{text:(0,a.w5)((()=>[(0,a.Uk)("Додати налаштування")])),_:1})],2)])),_:1},8,["initial-values","onSubmit"])])}var f=t(4856),h=t(4610),_=t(4560),b=t(2619),v=t(1255),y=t(1166),V=t(2960),g=t(1225),w=t(913);function k(e,l,t,o,n,r){const i=(0,a.up)("select-field"),s=(0,a.up)("form-field");return(0,a.wg)(),(0,a.j4)(s,{label:"Тип розподілу комісії",error:e.error},{hint:(0,a.w5)((()=>[])),default:(0,a.w5)((()=>[(0,a.Wm)(i,{options:e.comissionTypes,name:"comissionTypes","input-placeholder":"Оберіть тип розподілу комісії","search-placeholder":"Введіть тип розподілу комісії","has-search":!1,"model-value":e.modelValue,"onUpdate:modelValue":e.select},null,8,["options","model-value","onUpdate:modelValue"])])),_:1},8,["error"])}var W=t(6112),$=(0,a.aZ)({props:{modelValue:String,error:String},emits:["update:modelValue"],components:{FormField:_.Z,SelectField:W.Z},computed:{comissionTypes(){const e=this.$store.state.terminals.terminalsRef;return e?e.comis_type.map((e=>({value:e.id.toString(),label:e.name||""}))):[]}},methods:{select(e){this.$emit("update:modelValue",e)}}}),Z=t(89);const U=(0,Z.Z)($,[["render",k]]);var x=U;function C(e,l,t,o,n,r){const i=(0,a.up)("select-field"),s=(0,a.up)("form-field");return(0,a.wg)(),(0,a.j4)(s,{label:"Тип підключення",error:e.error},{hint:(0,a.w5)((()=>[])),default:(0,a.w5)((()=>[(0,a.Wm)(i,{options:e.connectionTypes,name:"request_type","input-placeholder":"Оберіть тип підключення","search-placeholder":"Введіть тип підключення","has-search":!1,"model-value":e.modelValue,"onUpdate:modelValue":e.select},null,8,["options","model-value","onUpdate:modelValue"])])),_:1},8,["error"])}var S=(0,a.aZ)({props:{modelValue:String,error:String},emits:["update:modelValue"],components:{FormField:_.Z,SelectField:W.Z},computed:{connectionTypes(){const e=this.$store.state.terminals.terminalsRef;return e?e.request_type.map((e=>({value:e.id.toString(),label:e.name||"",hint:e.opis}))):[]}},methods:{select(e){this.$emit("update:modelValue",e)}}});const F=(0,Z.Z)(S,[["render",C]]);var A=F;function T(e,l,t,o,n,r){const i=(0,a.up)("select-field"),s=(0,a.up)("form-field");return(0,a.wg)(),(0,a.j4)(s,{label:"Еквайер",error:e.error},{hint:(0,a.w5)((()=>[])),default:(0,a.w5)((()=>[(0,a.Wm)(i,{options:e.acquirerTypes,name:"comissionTypes","input-placeholder":"Оберіть тип еквайер","search-placeholder":"Введіть тип еквайер","has-search":!1,"model-value":e.modelValue,"onUpdate:modelValue":e.select},null,8,["options","model-value","onUpdate:modelValue"])])),_:1},8,["error"])}var j=t(8607),P=(0,a.aZ)({props:["modelValue","error"],emits:["update:modelValue"],components:{FormField:_.Z,SelectField:j.Z},computed:{acquirerTypes(){const e=this.$store.state.terminals.terminalsRef;return e?e.banks_list.map((e=>({value:e.id.toString(),label:e.name||""}))):[]}},methods:{select(e){this.$emit("update:modelValue",e)}}});const q=(0,Z.Z)(P,[["render",T]]);var E=q;const B={class:"balancer"},I={class:"fields-row"};function D(e,l,t,o,n,r){const i=(0,a.up)("balancer-type"),s=(0,a.up)("input-field"),d=(0,a.up)("form-field");return(0,a.wg)(),(0,a.iD)("div",B,[e.visible?((0,a.wg)(),(0,a.j4)(i,{key:0,modelValue:e.balancer.type,"onUpdate:modelValue":l[0]||(l[0]=l=>e.balancer.type=l)},null,8,["modelValue"])):(0,a.kq)("",!0),(0,a._)("div",I,["1"===e.balancer.type?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(e.banks,((l,t)=>((0,a.wg)(),(0,a.j4)(d,{key:l.id,label:`${l.name} (%)`},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{name:"value","model-value":e.balancer.data[t]?.value,"onUpdate:modelValue":a=>e.onSingleValueChange(t,{bank_id:l.id,value:a})},null,8,["model-value","onUpdate:modelValue"])])),_:2},1032,["label"])))),128)):(0,a.kq)("",!0),"3"===e.balancer.type?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(e.banks,((l,t)=>((0,a.wg)(),(0,a.j4)(d,{key:l.id,label:`${l.name} (грн)`},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{name:"value","model-value":e.balancer.data[t]?.value,"onUpdate:modelValue":a=>e.onSingleValueChange(t,{bank_id:l.id,value:a})},null,8,["model-value","onUpdate:modelValue"])])),_:2},1032,["label"])))),128)):(0,a.kq)("",!0),"4"===e.balancer.type?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:2},(0,a.Ko)(e.banks,((l,t)=>((0,a.wg)(),(0,a.iD)("div",{key:l.id,class:"balancer-fields-row"},[(0,a.Wm)(d,{label:`${l.name} (від)`},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{name:"value","model-value":e.balancer.data[t]?.value_from,"onUpdate:modelValue":a=>e.onRangeValueChange(t,{bank_id:l.id,value_from:a})},null,8,["model-value","onUpdate:modelValue"])])),_:2},1032,["label"]),(0,a.Wm)(d,{label:`${l.name} (до)`},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{name:"value","model-value":e.balancer.data[t]?.value_to,"onUpdate:modelValue":a=>e.onRangeValueChange(t,{bank_id:l.id,value_to:a})},null,8,["model-value","onUpdate:modelValue"])])),_:2},1032,["label"])])))),128)):(0,a.kq)("",!0)])])}var L=t(8086),O=t.n(L),R=t(6459),G=t.n(R);function H(e,l,t,o,n,r){const i=(0,a.up)("select-field"),s=(0,a.up)("form-field");return(0,a.wg)(),(0,a.j4)(s,{label:"Балансування",error:e.error},{hint:(0,a.w5)((()=>[])),default:(0,a.w5)((()=>[(0,a.Wm)(i,{options:e.ballanceTypes,name:"ballanceTypes","input-placeholder":"Оберіть тип балансування","search-placeholder":"Введіть тип балансування","has-search":!1,"model-value":e.modelValue,"onUpdate:modelValue":e.select},null,8,["options","model-value","onUpdate:modelValue"])])),_:1},8,["error"])}var K=(0,a.aZ)({props:{modelValue:String,error:String},emits:["update:modelValue"],components:{FormField:_.Z,SelectField:W.Z},computed:{ballanceTypes(){const e=this.$store.state.terminals.terminalsRef;return e?e.balancer_type.map((e=>({value:e.id.toString(),label:e.name||"",hint:e.opis}))):[]}},methods:{select(e){this.$emit("update:modelValue",e)}}});const M=(0,Z.Z)(K,[["render",H]]);var Y=M,z=(0,a.aZ)({props:["modelValue","selectedBanks"],emits:["update:modelValue"],components:{BalancerType:Y,FormField:_.Z,InputField:b.Z},data(){return{banks:[],balancer:{type:null,data:[]}}},computed:{visible(){return this.selectedBanks.length>1},banksList(){const e=this.$store.state.terminals.terminalsRef;return e?e.banks_list.map((e=>({id:e.id,name:e.name}))):[]}},mounted(){this.banks=this.banksList.filter((e=>this.selectedBanks.includes(e.id)))},watch:{modelValue:{handler(e){this.balancer=e},immediate:!0},selectedBanks:{handler(e){this.banks=this.banksList.filter((l=>e.includes(l.id)))},immediate:!0},balancer:{handler(e){this.$emit("update:modelValue",e)},deep:!0}},methods:{onSingleValueChange(e,l){O()(this.balancer,`data.${e}`,l)},onRangeValueChange(e,l){const t=G()(this.balancer,`data.${e}`),a=Object.keys(t).reduce(((e,l)=>("value"!==l&&(e[l]=t[l]),e)),{});O()(this.balancer,`data.${e}`,{...a,...l})}}});const J=(0,Z.Z)(z,[["render",D]]);var N=J,Q=t.p+"img/duplicate-icon-accent.45fe2a14.svg";const X={class:"terminal-form__extra"},ee=(0,a._)("img",{src:Q,alt:""},null,-1),le={key:0,class:"fields-row"};function te(e,l,t,o,n,r){const s=(0,a.up)("v-button"),d=(0,a.up)("input-field"),u=(0,a.up)("form-field"),c=(0,a.up)("payload-template-field"),m=(0,a.up)("password-field"),p=(0,a.up)("sign-stract-field"),f=(0,a.up)("commision-type"),h=(0,a.up)("connection-type"),_=(0,a.up)("acquirer-type"),b=(0,a.up)("balancer-field");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",X,[(0,a._)("div",null,[(0,a.Wm)(s,{variant:"ghost",hasMaxWidth:!1,onClick:r.duplicateEccom},{beforeIcon:(0,a.w5)((()=>[ee])),text:(0,a.w5)((()=>[(0,a.Uk)("Дублювати з Ecomm")])),_:1},8,["onClick"])])]),(0,a.Wm)(u,{label:"Endpoint для повідомлень про результати транзакцій",error:n.errors[`${t.prefix}-callback`]},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{name:"ecomm-callback",modelValue:n.values[`${t.prefix}-callback`],"onUpdate:modelValue":l[0]||(l[0]=e=>n.values[`${t.prefix}-callback`]=e),placeholder:"Наприклад, ?param_name=param_value"},null,8,["modelValue"])])),_:1},8,["error"]),(0,a.Wm)(u,{label:"GET параметри для передачі",error:n.errors[`${t.prefix}-callback_get`]},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{name:"add_get",modelValue:n.values[`${t.prefix}-callback_get`],"onUpdate:modelValue":l[1]||(l[1]=e=>n.values[`${t.prefix}-callback_get`]=e),placeholder:"Наприклад, ?param_name=param_value"},null,8,["modelValue"])])),_:1},8,["error"]),(0,a.Wm)(c,{modelValue:n.values[`${t.prefix}-callback_body`],"onUpdate:modelValue":l[2]||(l[2]=e=>n.values[`${t.prefix}-callback_body`]=e),error:n.errors[`${t.prefix}-callback_body`]},null,8,["modelValue","error"]),(0,a.Wm)(u,{label:"Redirect url",error:n.errors[`${t.prefix}-redirect`]},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{name:"redirect_url",modelValue:n.values[`${t.prefix}-redirect`],"onUpdate:modelValue":l[3]||(l[3]=e=>n.values[`${t.prefix}-redirect`]=e),placeholder:"Введіть Redirect url"},null,8,["modelValue"])])),_:1},8,["error"]),(0,a.Wm)(u,{label:"Secret Key (підпис HmacSHA256)",error:n.errors[`${t.prefix}-secret_key`]},{hint:(0,a.w5)((()=>[(0,a.Uk)(" Фраза-ключ для підпису запиту через API та перевірки повідомлень від системи ")])),default:(0,a.w5)((()=>[(0,a.Wm)(m,{name:"secrey_key",modelValue:n.values[`${t.prefix}-secret_key`],"onUpdate:modelValue":l[4]||(l[4]=e=>n.values[`${t.prefix}-secret_key`]=e),hasGenerateButton:!1,placeholder:"Введіть або згенеруйте"},null,8,["modelValue"])])),_:1},8,["error"]),(0,a.Wm)(p,{modelValue:n.values[`${t.prefix}-sign_data`],"onUpdate:modelValue":l[5]||(l[5]=e=>n.values[`${t.prefix}-sign_data`]=e)},null,8,["modelValue"]),(0,a.Wm)(f,{modelValue:n.values[`${t.prefix}-comis_type`],"onUpdate:modelValue":l[6]||(l[6]=e=>n.values[`${t.prefix}-comis_type`]=e)},null,8,["modelValue"]),"3"===n.values[`${t.prefix}-comis_type`]?((0,a.wg)(),(0,a.iD)("div",le,[(0,a.Wm)(u,{label:"Комісія клієнта"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{type:"number",name:"client_comis",placeholder:"Введіть комісію клієнта",modelValue:n.values[`${t.prefix}-client_comis`],"onUpdate:modelValue":l[7]||(l[7]=e=>n.values[`${t.prefix}-client_comis`]=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,{label:"Комісія мерчента"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{type:"number",name:"merch_comis",placeholder:"Введіть комісію мерчента",modelValue:n.values[`${t.prefix}-merch_comis`],"onUpdate:modelValue":l[8]||(l[8]=e=>n.values[`${t.prefix}-merch_comis`]=e)},null,8,["modelValue"])])),_:1})])):(0,a.kq)("",!0),(0,a.Wm)(h,{modelValue:n.values[`${t.prefix}-request_type`],"onUpdate:modelValue":l[9]||(l[9]=e=>n.values[`${t.prefix}-request_type`]=e)},null,8,["modelValue"]),(0,a.Wm)(_,{modelValue:n.values[`${t.prefix}-bank_list`],"onUpdate:modelValue":l[10]||(l[10]=e=>n.values[`${t.prefix}-bank_list`]=e)},null,8,["modelValue"]),(0,a.Uk)(" "+(0,i.zw)(n.values["ecomm-bank_list"])+" ",1),(0,a.Wm)(b,{"model-value":n.values[`${t.prefix}-balancer`],"selected-banks":n.values[`${t.prefix}-bank_list`]},null,8,["model-value","selected-banks"])],64)}var ae={props:["formValues","formErrors","prefix"],components:{FormField:_.Z,InputField:b.Z,SignStractField:g.Z,PayloadTemplateField:w.Z,CommisionType:x,ConnectionType:A,AcquirerType:E,BalancerField:N,PasswordField:v.Z,VButton:h.Z},data(){return{values:this.formValues||{},errors:this.formErrors||{}}},watch:{formValues:{handler(e){this.values=e},immediate:!0},formErrors:{handler(e){this.errors=e||{}},immediate:!0}},methods:{duplicateEccom(){const e=Object.keys(this.formValues).reduce(((e,l)=>{if(l.startsWith("ecomm")){const[t,a]=l.split("-");console.log("property",a),console.log("this.formValues[key]",this.formValues[l]),e[`${this.prefix}-${a}`]=this.formValues[l]}return e}),{});this.values=e}}};const oe=(0,Z.Z)(ae,[["render",te]]);var ne=oe,re=(0,a.aZ)({props:{actionsFixed:{type:Boolean,required:!1,default:!1}},components:{VForm:f.Z,VTabs:V.Z,VTab:y.Z,VButton:h.Z,FormField:_.Z,InputField:b.Z,SignStractField:g.Z,PayloadTemplateField:w.Z,CommisionType:x,ConnectionType:A,AcquirerType:E,BalancerField:N,PasswordField:v.Z,AdditionConnectForm:ne},data(){return{initialValues:{name:"","ecomm-site":"","ecomm-callback":"","ecomm-callback_get":"","ecomm-callback_body":"","ecomm-redirect":"","ecomm-secret_key":"","ecomm-sign_data":"","ecomm-comis_type":"","ecomm-request_type":"","ecomm-time_out":"","ecomm-bank_list":[],"ecomm-balancer":{type:null,data:[]},"ecomm-client_comis":"","ecomm-merch_comis":"","A2C-callback":"","A2C-callback_get":"","A2C-callback_body":"","A2C-redirect":"","A2C-secret_key":"","A2C-sign_data":"","A2C-comis_type":"","A2C-request_type":"","A2C-bank_list":"","A2C-balancer":{type:null,data:[]},"C2A-callback":"","C2A-callback_get":"","C2A-callback_body":"","C2A-redirect":"","C2A-secret_key":"","C2A-sign_data":"","C2A-comis_type":"","C2A-request_type":"","C2A-bank_list":"","C2A-balancer":{type:null,data:[]}}}},methods:{send(e){console.log(e)}}});const ie=(0,Z.Z)(re,[["render",p]]);var se=ie,de=t(5384),ue=(0,a.aZ)({components:{AppLayout:n.Z,AppLoading:r.Z,TerminalForm:se},computed:{loading(){return this.$store.state.terminals.loading}},mounted(){this.$store.dispatch(de.T.GET_ECOMM_TERMINALS_REF)}});const ce=(0,Z.Z)(ue,[["render",o]]);var me=ce}}]);
//# sourceMappingURL=212.38651b43.js.map