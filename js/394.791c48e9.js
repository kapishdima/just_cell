"use strict";(self["webpackChunkjust_sell"]=self["webpackChunkjust_sell"]||[]).push([[394],{2619:function(e,t,l){l.d(t,{Z:function(){return r}});var a=l(3396),o=l(7139);const n=["type","placeholder","name","required","value","disabled"],u=(0,a.aZ)({emits:["update:modelValue","blur"],methods:{input(e){const t=e.target?.value;this.$emit("update:modelValue",t)}}});var d=(0,a.aZ)({...u,__name:"InputField",props:{name:null,type:null,placeholder:null,required:{type:Boolean},size:{default:"lg"},variant:{default:"default"},modelValue:null,disabled:null},setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)("input",{type:e.type,placeholder:e.placeholder,name:e.name,required:e.required,class:(0,o.C_)([`form-field__input--${e.size} form-field__input--${e.variant}`,"form-field__input"]),value:e.modelValue,disabled:e.disabled,onInput:l[0]||(l[0]=e=>t.input(e)),onBlur:l[1]||(l[1]=e=>t.$emit("blur"))},null,42,n))}});const s=d;var r=s},8307:function(e,t,l){l.d(t,{Z:function(){return F}});var a=l(3396);const o={class:"terminal-form__container"},n={class:"form-actions form-actions--fixed"};function u(e,t,l,u,d,s){const r=(0,a.up)("input-field"),i=(0,a.up)("form-field"),m=(0,a.up)("v-map"),p=(0,a.up)("route-prices"),c=(0,a.up)("v-button"),f=(0,a.up)("v-form");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(f,{action:"#",class:"terminal-form","initial-values":e.initialValues,onSubmit:e.onSubmit},{fields:(0,a.w5)((({values:t})=>[(0,a.Wm)(i,{label:"Назва"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{modelValue:t.name,"onUpdate:modelValue":e=>t.name=e,name:"name",type:"text",placeholder:"Введіть назву маршрута"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(i,{label:"Держава"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{modelValue:t.country,"onUpdate:modelValue":e=>t.country=e,name:"name",type:"text",placeholder:"Введіть державу"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(i,{label:"Місто"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{modelValue:t.city,"onUpdate:modelValue":e=>t.city=e,name:"name",type:"text",placeholder:"Введіть місто"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(i,{label:"Вартість проїзду"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{modelValue:t.cost,"onUpdate:modelValue":e=>t.cost=e,name:"name",type:"text",placeholder:"Введіть вартість проїзду"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(m,{modelValue:t.places,"onUpdate:modelValue":e=>t.places=e,hasAddressAutocomplete:!0,hasPlaceActions:!0},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(p,{places:t.places},null,8,["places"]),(0,a._)("div",n,[(0,a.Wm)(c,{type:"submit",loading:e.loading},{text:(0,a.w5)((()=>[(0,a.Uk)("Додати ТС")])),_:1},8,["loading"])])])),_:1},8,["initial-values","onSubmit"])])}var d=l(4677),s=l(4560),r=l(2619),i=l(4610),m=l(4856),p=l(745);const c={class:"container"},f={class:"record-item"},h={class:"record-item"},V={class:"record-item"},v=["onClick"];function _(e,t,l,o,n,u){const d=(0,a.up)("select-field"),s=(0,a.up)("input-field"),r=(0,a.up)("form-field");return(0,a.wg)(),(0,a.j4)(r,{label:"Cітка цін"},{default:(0,a.w5)((()=>[(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.records,((l,o)=>((0,a.wg)(),(0,a.iD)("div",{class:"record",key:o},[(0,a._)("div",f,[(0,a.Wm)(d,{options:e.options,hasSearch:!1,inputPlaceholder:"З точки",modelValue:l.from,"onUpdate:modelValue":e=>l.from=e},null,8,["options","modelValue","onUpdate:modelValue"])]),(0,a._)("div",h,[(0,a.Wm)(d,{options:e.options,hasSearch:!1,modelValue:l.to,"onUpdate:modelValue":e=>l.to=e,inputPlaceholder:"По точку"},null,8,["options","modelValue","onUpdate:modelValue"])]),(0,a._)("div",V,[(0,a.Wm)(s,{modelValue:l.cost,"onUpdate:modelValue":e=>l.cost=e,placeholder:"Ціна"},null,8,["modelValue","onUpdate:modelValue"])]),e.canRemove?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"button",onClick:t=>e.remove(o)},"-",8,v)):(0,a.kq)("",!0),e.canAdd&&e.records.length-1===o?((0,a.wg)(),(0,a.iD)("div",{key:1,class:"button",onClick:t[0]||(t[0]=(...t)=>e.add&&e.add(...t))}," + ")):(0,a.kq)("",!0)])))),128))])])),_:1})}l(7658);var b=l(6112),g=(0,a.aZ)({props:["label","values","name","places"],components:{FormField:s.Z,SelectField:b.Z,InputField:r.Z},data(){return{records:[{from:"",to:"",cost:""}],options:[],canAdd:!0,canRemove:!1}},watch:{places:{handler(e){e&&e.length&&(this.options=e.map((e=>({value:e.name,label:e.name}))))}},"records.length":{handler(e){this.canRemove=e>1},immediate:!0}},methods:{add(){this.records.push({from:"",to:"",cost:""})},remove(e){this.records=this.records.filter(((t,l)=>l!==e))}}}),w=l(89);const y=(0,w.Z)(g,[["render",_],["__scopeId","data-v-0cdab168"]]);var Z=y;const U={id:"",route:"",name:"",terminal_num:"",transport_num:"",drive_time:"",notify:[],next_to_date:""};var k=(0,a.aZ)({props:["defaultValues"],emits:["submit"],components:{FormField:s.Z,InputField:r.Z,VButton:i.Z,VForm:m.Z,RoutePrices:Z,VMap:p.Z},setup(){const e=(0,d.pm)();return{toast:e}},data(){return{initialValues:this.defaultValues||U}},watch:{defaultValues(e){this.initialValues={...this.initialValues,...e}}},computed:{loading(){return!1}},methods:{onSubmit(e){this.$emit("submit",e)}}});const W=(0,w.Z)(k,[["render",u]]);var F=W},3244:function(e,t,l){l.r(t),l.d(t,{default:function(){return c}});var a=l(3396);function o(e,t,l,o,n,u){const d=(0,a.up)("app-loading"),s=(0,a.up)("route-form"),r=(0,a.up)("app-layout");return(0,a.wg)(),(0,a.j4)(r,null,{appTitle:(0,a.w5)((()=>[(0,a.Uk)("Редагувати маршрут")])),appLoading:(0,a.w5)((()=>[(0,a.Wm)(d,{loading:!1})])),appContent:(0,a.w5)((()=>[e.route?((0,a.wg)(),(0,a.j4)(s,{key:0,onSubmit:e.createTransport,defaultValues:e.route},null,8,["onSubmit","defaultValues"])):(0,a.kq)("",!0)])),_:1})}var n=l(5627),u=l(7863),d=l(8307),s=l(5837),r=l(4677),i=(0,a.aZ)({inject:["rules"],components:{AppLayout:n.Z,AppLoading:u.Z,RouteForm:d.Z},data(){return{canEdit:!1}},computed:{loading(){return this.$store.state.routes.loading},route(){return console.log(this.$store.state.routes),this.$store.state.routes.route}},async mounted(){this.$store.dispatch(s.V.GET_ROUTE)},setup(){const e=(0,r.pm)();return{toast:e}},methods:{createTransport(e){this.$store.dispatch(s.V.CREATE_ROUTE,{payload:e,toast:this.toast})}}}),m=l(89);const p=(0,m.Z)(i,[["render",o]]);var c=p}}]);
//# sourceMappingURL=394.791c48e9.js.map