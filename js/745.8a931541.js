"use strict";(self["webpackChunkjust_sell"]=self["webpackChunkjust_sell"]||[]).push([[745],{2619:function(e,l,t){t.d(l,{Z:function(){return s}});var a=t(3396),o=t(7139);const n=["type","placeholder","name","required","value","disabled"],u=(0,a.aZ)({emits:["update:modelValue","blur"],methods:{input(e){const l=e.target?.value;this.$emit("update:modelValue",l)}}});var d=(0,a.aZ)({...u,__name:"InputField",props:{name:null,type:null,placeholder:null,required:{type:Boolean},size:{default:"lg"},variant:{default:"default"},modelValue:null,disabled:null},setup(e){return(l,t)=>((0,a.wg)(),(0,a.iD)("input",{type:e.type,placeholder:e.placeholder,name:e.name,required:e.required,class:(0,o.C_)([`form-field__input--${e.size} form-field__input--${e.variant}`,"form-field__input"]),value:e.modelValue,disabled:e.disabled,onInput:t[0]||(t[0]=e=>l.input(e)),onBlur:t[1]||(t[1]=e=>l.$emit("blur"))},null,42,n))}});const i=d;var s=i},1990:function(e,l,t){t.r(l),t.d(l,{default:function(){return c}});var a=t(3396);function o(e,l,t,o,n,u){const d=(0,a.up)("app-loading"),i=(0,a.up)("route-form"),s=(0,a.up)("app-layout");return(0,a.wg)(),(0,a.j4)(s,null,{appTitle:(0,a.w5)((()=>[(0,a.Uk)("Додати маршрут")])),appLoading:(0,a.w5)((()=>[(0,a.Wm)(d,{loading:!1})])),appContent:(0,a.w5)((()=>[(0,a.Wm)(i,{onSubmit:e.createTransport},null,8,["onSubmit"])])),_:1})}var n=t(5627),u=t(7863),d=t(8307),i=t(5837),s=t(4677),r=(0,a.aZ)({inject:["rules"],components:{AppLayout:n.Z,AppLoading:u.Z,RouteForm:d.Z},data(){return{canEdit:!1}},computed:{loading(){return this.$store.state.routes.loading}},async mounted(){this.$store.dispatch(i.V.GET_ROUTES)},setup(){const e=(0,s.pm)();return{toast:e}},methods:{createTransport(e){this.$store.dispatch(i.V.CREATE_ROUTE,{payload:e,toast:this.toast})}}}),m=t(89);const p=(0,m.Z)(r,[["render",o]]);var c=p},8307:function(e,l,t){t.d(l,{Z:function(){return F}});var a=t(3396);const o={class:"terminal-form__container"},n={class:"form-actions form-actions--fixed"};function u(e,l,t,u,d,i){const s=(0,a.up)("input-field"),r=(0,a.up)("form-field"),m=(0,a.up)("v-map"),p=(0,a.up)("route-prices"),c=(0,a.up)("v-button"),f=(0,a.up)("v-form");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(f,{action:"#",class:"terminal-form","initial-values":e.initialValues,onSubmit:e.onSubmit},{fields:(0,a.w5)((({values:l})=>[(0,a.Wm)(r,{label:"Назва"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{modelValue:l.name,"onUpdate:modelValue":e=>l.name=e,name:"name",type:"text",placeholder:"Введіть назву маршрута"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(r,{label:"Держава"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{modelValue:l.country,"onUpdate:modelValue":e=>l.country=e,name:"name",type:"text",placeholder:"Введіть державу"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(r,{label:"Місто"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{modelValue:l.city,"onUpdate:modelValue":e=>l.city=e,name:"name",type:"text",placeholder:"Введіть місто"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(r,{label:"Вартість проїзду"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{modelValue:l.cost,"onUpdate:modelValue":e=>l.cost=e,name:"name",type:"text",placeholder:"Введіть вартість проїзду"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(m,{modelValue:l.places,"onUpdate:modelValue":e=>l.places=e,hasAddressAutocomplete:!0,hasPlaceActions:!0},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(p,{places:l.places},null,8,["places"]),(0,a._)("div",n,[(0,a.Wm)(c,{type:"submit",loading:e.loading},{text:(0,a.w5)((()=>[(0,a.Uk)("Додати ТС")])),_:1},8,["loading"])])])),_:1},8,["initial-values","onSubmit"])])}var d=t(4677),i=t(4560),s=t(2619),r=t(4610),m=t(4856),p=t(745);const c={class:"container"},f={class:"record-item"},h={class:"record-item"},V={class:"record-item"},v=["onClick"];function _(e,l,t,o,n,u){const d=(0,a.up)("select-field"),i=(0,a.up)("input-field"),s=(0,a.up)("form-field");return(0,a.wg)(),(0,a.j4)(s,{label:"Cітка цін"},{default:(0,a.w5)((()=>[(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.records,((t,o)=>((0,a.wg)(),(0,a.iD)("div",{class:"record",key:o},[(0,a._)("div",f,[(0,a.Wm)(d,{options:e.options,hasSearch:!1,inputPlaceholder:"З точки",modelValue:t.from,"onUpdate:modelValue":e=>t.from=e},null,8,["options","modelValue","onUpdate:modelValue"])]),(0,a._)("div",h,[(0,a.Wm)(d,{options:e.options,hasSearch:!1,modelValue:t.to,"onUpdate:modelValue":e=>t.to=e,inputPlaceholder:"По точку"},null,8,["options","modelValue","onUpdate:modelValue"])]),(0,a._)("div",V,[(0,a.Wm)(i,{modelValue:t.cost,"onUpdate:modelValue":e=>t.cost=e,placeholder:"Ціна"},null,8,["modelValue","onUpdate:modelValue"])]),e.canRemove?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"button",onClick:l=>e.remove(o)},"-",8,v)):(0,a.kq)("",!0),e.canAdd&&e.records.length-1===o?((0,a.wg)(),(0,a.iD)("div",{key:1,class:"button",onClick:l[0]||(l[0]=(...l)=>e.add&&e.add(...l))}," + ")):(0,a.kq)("",!0)])))),128))])])),_:1})}t(7658);var b=t(6112),g=(0,a.aZ)({props:["label","values","name","places"],components:{FormField:i.Z,SelectField:b.Z,InputField:s.Z},data(){return{records:[{from:"",to:"",cost:""}],options:[],canAdd:!0,canRemove:!1}},watch:{places:{handler(e){e&&e.length&&(this.options=e.map((e=>({value:e.name,label:e.name}))))}},"records.length":{handler(e){this.canRemove=e>1},immediate:!0}},methods:{add(){this.records.push({from:"",to:"",cost:""})},remove(e){this.records=this.records.filter(((l,t)=>t!==e))}}}),w=t(89);const y=(0,w.Z)(g,[["render",_],["__scopeId","data-v-0cdab168"]]);var Z=y;const U={id:"",route:"",name:"",terminal_num:"",transport_num:"",drive_time:"",notify:[],next_to_date:""};var W=(0,a.aZ)({props:["defaultValues"],emits:["submit"],components:{FormField:i.Z,InputField:s.Z,VButton:r.Z,VForm:m.Z,RoutePrices:Z,VMap:p.Z},setup(){const e=(0,d.pm)();return{toast:e}},data(){return{initialValues:this.defaultValues||U}},watch:{defaultValues(e){this.initialValues={...this.initialValues,...e}}},computed:{loading(){return!1}},methods:{onSubmit(e){this.$emit("submit",e)}}});const k=(0,w.Z)(W,[["render",u]]);var F=k}}]);
//# sourceMappingURL=745.8a931541.js.map